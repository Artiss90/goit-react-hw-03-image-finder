(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{22:function(e,t,n){e.exports={Button:"Button_Button__21fyz"}},24:function(e,t,n){e.exports={center:"Loader_center__70YcQ"}},25:function(e,t,n){e.exports={app:"App_app__1brDB"}},33:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(8),i=n.n(c),l=(n(32),n(33),n(12)),s=n(4),u=n(5),h=n(7),g=n(6),d=n(13),p=n(26),m=n(22),b=n.n(m),j=function(e){var t=e.children,n=e.onClick,r=Object(p.a)(e,["children","onClick"]);return Object(a.jsx)("button",Object(d.a)(Object(d.a)({type:"button",className:b.a.Button,onClick:n},r),{},{children:t}))};j.defaultProps={onClick:function(){return null},children:null};var f=j,O=n(9),v=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.notify=function(){return O.b.info("\u043f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.query;n.trim()?e.props.onSubmitForm(n):e.notify(),e.resetState()},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.resetState=function(){e.setState({query:""})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"SearchForm",children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"search",value:this.state.query,onChange:this.handleChange})]})})}}]),n}(r.Component),y=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.name;return Object(a.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})}}]),n}(r.Component),S=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleShowLargeImage=function(t,n){e.props.onClick({src:t,name:n})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.list;return Object(a.jsx)("ul",{className:"ImageGallery",children:t&&t.map((function(t,n){t.id;var r=t.webformatURL,o=t.largeImageURL,c=t.tags;return Object(a.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return e.handleShowLargeImage(o,c)},children:Object(a.jsx)(y,{image:r,name:c})},n)}))})}}]),n}(r.Component),x=document.querySelector("#modal-root"),C=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onCloseKeyEvent=function(t){var n=e.props.toggleModal;"Escape"===t.code&&n()},e.onCloseOverlay=function(t){var n=e.props.toggleModal;t.target===t.currentTarget&&n()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onCloseKeyEvent)}},{key:"render",value:function(){var e=this.props.image,t=e.src,n=e.name;return Object(c.createPortal)(Object(a.jsx)("div",{className:"Overlay",onClick:this.onCloseOverlay,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{src:t,alt:n})})}),x)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onCloseKeyEvent)}}]),n}(r.Component),k=n(23),w=n.n(k),L=n(24),I=n.n(L),M=function(){return Object(a.jsx)(w.a,{className:I.a.center,type:"Circles",color:"#00BFFF",height:100,width:100})},F=n(11),N=n.n(F);N.a.defaults.baseURL="https://pixabay.com/api/";var q=function(e,t){return N.a.get("?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat("19207943-ecb2269b7818ebd0e732e1fe9")).then((function(e){return e.data.hits}))},_=n(25),B=n.n(_),E=(n(73),function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={largeImage:null,page:1,articles:[],onOpenModal:!1,loading:!1,querySearch:"",error:null},e.getFetchImages=function(){var t=e.state,n=t.querySearch,a=t.page,r=t.articles;e.toggleLoading(),q(n,a).then((function(t){return e.setState({articles:[].concat(Object(l.a)(r),Object(l.a)(t)),page:a+1})})).catch((function(t){return e.setState({error:t})})).finally(e.toggleLoading)},e.getLargeImage=function(t){e.setState({largeImage:t}),e.toggleModal()},e.onSearch=function(t){return e.setState({querySearch:t,articles:[],page:1})},e.toggleLoading=function(){e.setState((function(e){return{loading:!e.loading}}))},e.toggleModal=function(){e.setState((function(e){return{onOpenModal:!e.onOpenModal}}))},e.getLoadMore=function(){e.getFetchImages()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){this.state.querySearch!==t.querySearch&&this.getFetchImages(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.onOpenModal,n=e.articles,r=e.loading,o=e.largeImage;return Object(a.jsxs)("div",{className:B.a.app,children:[Object(a.jsx)(v,{onSubmitForm:this.onSearch}),Object(a.jsx)(S,{list:n,onClick:this.getLargeImage}),r&&Object(a.jsx)(M,{onLoad:r}),n.length>0&&Object(a.jsx)(f,{onClick:this.getLoadMore,"aria-label":"Load more",children:"Load more"}),t&&Object(a.jsx)(C,{image:o,toggleModal:this.toggleModal}),Object(a.jsx)(O.a,{})]})}}]),n}(r.Component));i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.c6f37a59.chunk.js.map